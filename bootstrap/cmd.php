<?php
/*
|--------------------------------------------------------------------------
| add autoload
|--------------------------------------------------------------------------
*/
require_once __DIR__.'/../vendor/autoload.php';

/*
|--------------------------------------------------------------------------
| load config file .env
|--------------------------------------------------------------------------
*/
Dotenv::load(__DIR__.'/../');

/*
|--------------------------------------------------------------------------
| add whoops
|--------------------------------------------------------------------------
*/
Xisnear\Frame\Whoops::singleton()->init(\Xisnear\Frame\Whoops::TYPE_CONSOLE);

/*
|--------------------------------------------------------------------------
| add eloquent db orm
|--------------------------------------------------------------------------
*/
Xisnear\Frame\Eloquent::singleton()->init();

/*
|--------------------------------------------------------------------------
| add monolog
|--------------------------------------------------------------------------
*/
Xisnear\Frame\Log::singleton()->init('console');

/*
|--------------------------------------------------------------------------
| get application
|--------------------------------------------------------------------------
*/
$app = Xisnear\Frame\App::singleton();

return $app;