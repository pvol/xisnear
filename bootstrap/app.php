<?php
/*
|--------------------------------------------------------------------------
| add autoload
|--------------------------------------------------------------------------
*/
require_once __DIR__.'/../vendor/autoload.php';

/*
|--------------------------------------------------------------------------
| load config file .env
|--------------------------------------------------------------------------
*/
Dotenv::load(__DIR__.'/../');

/*
|--------------------------------------------------------------------------
| add whoops
|--------------------------------------------------------------------------
*/
Core\Frame\Whoops::singleton()->init(\Core\Frame\Whoops::TYPE_PAGE);

/*
|--------------------------------------------------------------------------
| add eloquent db orm
|--------------------------------------------------------------------------
*/
Core\Frame\Eloquent::singleton()->init();

/*
|--------------------------------------------------------------------------
| add monolog
|--------------------------------------------------------------------------
*/
Core\Frame\Log::singleton()->init();

/*
|--------------------------------------------------------------------------
| add config file routes.php
|--------------------------------------------------------------------------
*/
require_once __DIR__.'/../app/Http/routes.php';

/*
|--------------------------------------------------------------------------
| get application
|--------------------------------------------------------------------------
*/
$app = Core\Frame\App::singleton();

return $app;